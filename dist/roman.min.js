((e,t)=>{"function"==typeof define&&define.amd?define([],()=>t(e)):"object"==typeof exports?module.exports=t(e):e.roman=t(e)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,e=>{"use strict";const t={I:1,V:5,X:10,L:50,C:100,D:500,M:1e3};let r={},l=()=>new RegExp("\\b(["+Object.keys(t).join("")+"]+)\\b","gi"),n=()=>new RegExp("^(["+Object.keys(t).join("")+"]+)$","gi"),u=e=>Array.isArray(e),i=e=>"string"==typeof e&&0!==e.length,a=e=>"string"==typeof e&&0!==e.length&&n().test(e);return r.numerals=(()=>t),r.read=(e=>{let r,l;return a(e)?(e=e.trim(),0<=e.indexOf(" ")&&(e=e.split(" ")[0]),l=e.toUpperCase().split("").reverse().reduce((e,l)=>{let n=t[l];return"number"==typeof n&&(e+=n*(void 0!==r&&n<r?-1:1),r=n),e},0),0!==l?l:null):null}),r.write=(e=>{const r=Object.keys(t);let l,n,u="",i=(e,l)=>{let n,u="",a=l;if(l<1e3&&4*t[r[e]]<=a)return null;for(;t[r[e]]<=a;)a-=t[r[e]],u+=r[e];if(0!==a&&0<e){if(n=i(e-1,a),null===n)return l<t[r[e]]?i(e-1,t[r[e]]-a)+r[e]:null;u+=n}return u};if("number"!=typeof e||e===1/0)return null;for(l=3;0<=l;l--)n=e-e%Math.pow(10,l),0!==n&&(e-=n,u+=i(r.length-1,n));return u}),r.convert=(e=>{const t=typeof e;return"number"===t||"string"===t&&/^([\d]+)/g.test(e)?r.write(parseInt(e)):"string"===t?r.read(e):null}),r.check=(e=>i(e)?n().test(e):null),r.contains=((e,t=[])=>{let r;return i(e)?(r=e.match(l()),!!r&&0<r.filter(e=>t.indexOf(e)<0).length):null}),r.extract=((e,t=[])=>{let r;return i(e)&&u(t)?(r=e.match(l()),r||null):null}),r.extractNumerals=((e,t=[])=>{const l=r.extract(e,t);return l?l.map(e=>r.read(e)):null}),r.extractNumbers=(e=>{let t;return i(e)?(t=e.match(/(\d+)/g),t?t.map(e=>r.write(parseInt(e))):null):null}),r.replaceNumerals=((e,t=[])=>i(e)&&u(t)?e.replace(l(),e=>0<=(t.indexOf(e)?e:r.read(e))):null),r.replaceNumbers=((e,t=[])=>i(e)&&u(t)?e.replace(/(\d+)/g,e=>r.write(parseInt(e))):null),r.add=(e=>u(e)?r.write(e.reduce((e,t)=>e+r.read(t),0)||null):null),r.subtract=((e,t)=>(e=r.read(e),t=r.read(t),null!==e&&null!==t?r.write(e-t):null)),r.multiply=(e=>u(e)&&r.write(e.reduce((e,t)=>e*r.read(t),1))||null),r.divide=((e,t)=>(e=r.read(e),t=r.read(t),null!==e&&null!==t?r.write(Math.floor(e/t)):null)),r});